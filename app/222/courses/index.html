{% extends "base.html" %}
{% block title %}H·ªçc ph·∫ßn{% endblock %}
{% block content %}

<div class="d-flex align-items-center justify-content-between mb-3">
  <h2 class="m-0">üìò Danh s√°ch h·ªçc ph·∫ßn</h2>
  <a href="{{ url_for('courses.create') }}" class="btn btn-primary">+ Th√™m h·ªçc ph·∫ßn</a>
</div>

<form class="row g-2 mb-3" method="get" action="{{ url_for('courses.index') }}">
  <div class="col-sm-6 col-md-4">
    <input name="q" value="{{ request.args.get('q','') }}" class="form-control" placeholder="T√¨m m√£ / t√™n m√¥n...">
  </div>
  <div class="col-sm-3 col-md-2">
    <button class="btn btn-outline-primary w-100">T√¨m</button>
  </div>
</form>

{% if courses|length == 0 %}
  <div class="alert alert-info">Ch∆∞a c√≥ h·ªçc ph·∫ßn.</div>
{% else %}
  <div class="row g-3">
    {% for c in courses %}
      <div class="col-12 col-sm-6 col-lg-4">
        <div class="card h-100 shadow-sm border-0">
          <div class="card-body">
            <div class="d-flex justify-content-between">
              <h5 class="card-title mb-1">{{ c.name }}</h5>
              <span class="badge bg-primary">{{ c.code }}</span>
            </div>
            <div class="text-secondary small mb-3">
              {% if c.credit %}S·ªë t√≠n ch·ªâ: <strong>{{ c.credit }}</strong>{% endif %}
            </div>
            <div class="d-flex gap-2">
              <a href="{{ url_for('courses.edit', id=c.id) }}" class="btn btn-sm btn-outline-primary">S·ª≠a</a>
              <form method="post" action="{{ url_for('courses.delete', id=c.id) }}"
                    onsubmit="return confirm('X√≥a h·ªçc ph·∫ßn n√†y?');">
                {{ csrf_token() }}
                <button class="btn btn-sm btn-outline-danger">X√≥a</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% endif %}

<style>
  h2{font-weight:700}
  .btn-primary{background:#0d4a8c;border-color:#0d4a8c}
  .btn-outline-primary{border-color:#0d4a8c;color:#0d4a8c}
  .btn-outline-primary:hover{background:#0d4a8c;color:#fff}
</style>
{% endblock %}
