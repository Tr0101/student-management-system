{% extends 'base.html' %}
{% block title %}üìò H·ªçc ph·∫ßn{% endblock %}
{% block content %}

<style>
  .course-card {
    border: none;
    border-radius: 16px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
  }
  .course-card:hover {
    transform: translateY(-2px);
  }
  .card-header {
    background: linear-gradient(135deg, #007bff, #00c6ff);
    color: white;
    border-radius: 16px 16px 0 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .card-header h5 {
    margin: 0;
    font-weight: 600;
  }
  .btn-outline-secondary, .btn-outline-danger, .btn-primary {
    border-radius: 8px;
    font-weight: 500;
  }
  .table thead th {
    background-color: #f8f9fa;
    font-weight: 600;
  }
  .table-hover tbody tr:hover {
    background-color: #f4faff;
  }
  form.inline {
    display: inline;
  }
</style>

<div class="card course-card mt-4">
  <div class="card-header p-3">
    <h5 class="mb-0"><i class="bi bi-journal-text me-2"></i>Danh s√°ch h·ªçc ph·∫ßn</h5>
    <a class="btn btn-primary btn-sm" href="{{ url_for('courses.create') }}">
      <i class="bi bi-plus-circle"></i> Th√™m h·ªçc ph·∫ßn
    </a>
  </div>

  <div class="card-body">
    <!-- T√¨m ki·∫øm -->
    <form class="row g-2 mb-3">
      <div class="col-md-5">
        <input name="q" value="{{ q }}" class="form-control" placeholder="üîç T√¨m theo m√£ ho·∫∑c t√™n h·ªçc ph·∫ßn">
      </div>
      <div class="col-auto">
        <button class="btn btn-outline-secondary">
          <i class="bi bi-search"></i> T√¨m
        </button>
      </div>
    </form>

    <!-- B·∫£ng danh s√°ch -->
    <div class="table-responsive">
      <table class="table table-hover align-middle">
        <thead class="table-light">
          <tr>
            <th class="text-center">M√£ HP</th>
            <th>T√™n h·ªçc ph·∫ßn</th>
            <th class="text-center">S·ªë t√≠n ch·ªâ</th>
            <th class="text-end">Thao t√°c</th>
          </tr>
        </thead>
        <tbody>
          {% for c in courses %}
          <tr>
            <td class="text-center fw-semibold">{{ c.code }}</td>
            <td>{{ c.name }}</td>
            <td class="text-center">{{ c.credits }}</td>
            <td class="text-end">
              <a class="btn btn-sm btn-outline-primary me-1" href="{{ url_for('courses.edit', id=c.id) }}">
                <i class="bi bi-pencil-square"></i> S·ª≠a
              </a>
              <form method="post" action="{{ url_for('courses.delete', id=c.id) }}" class="inline"
                    onsubmit="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a h·ªçc ph·∫ßn n√†y?')">
                <button class="btn btn-sm btn-outline-danger">
                  <i class="bi bi-trash3"></i> X√≥a
                </button>
              </form>
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="4" class="text-center text-muted py-3">
              <i class="bi bi-emoji-frown"></i> Kh√¥ng t√¨m th·∫•y h·ªçc ph·∫ßn n√†o.
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
