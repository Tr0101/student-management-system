{% extends "base.html" %}
{% block title %}üìÖ Th·ªùi kh√≥a bi·ªÉu{% endblock %}

{% block content %}
<div class="container mt-4">

  <div class="d-flex justify-content-between align-items-center mb-4">
    <h3 class="fw-bold text-primary mb-0">
      <i class="bi bi-calendar-week me-2"></i> Danh s√°ch Th·ªùi kh√≥a bi·ªÉu
    </h3>
    <a href="{{ url_for('schedules.create') }}" class="btn btn-success">
      <i class="bi bi-plus-circle me-1"></i> Th√™m m·ªõi
    </a>
  </div>

  {% if schedules %}
  <div class="card border-0 shadow-sm rounded-4">
    <div class="card-body">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th>#</th>
            <th>M√¥n h·ªçc</th>
            <th>Th·ª©</th>
            <th>Th·ªùi gian</th>
            <th>Ph√≤ng</th>
            <th class="text-end">Thao t√°c</th>
          </tr>
        </thead>
        <tbody>
          {% for s in schedules %}
          <tr>
            <td>{{ loop.index }}</td>
            <td>{{ s.course.name if s.course else '‚Äî' }}</td>
            <td>{{ s.weekday }}</td>
            <td>{{ s.time }}</td>
            <td>{{ s.room }}</td>
            <td class="text-end">
              <a href="{{ url_for('schedules.edit', id=s.id) }}" class="btn btn-warning btn-sm me-1">
                <i class="bi bi-pencil-square"></i> S·ª≠a
              </a>
              <form method="POST" action="{{ url_for('schedules.delete', id=s.id) }}" class="d-inline">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <button type="submit" class="btn btn-danger btn-sm"
                        onclick="return confirm('X√°c nh·∫≠n x√≥a th·ªùi kh√≥a bi·ªÉu n√†y?')">
                  <i class="bi bi-trash3"></i> X√≥a
                </button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  {% else %}
  <div class="alert alert-info text-center rounded-3 shadow-sm mt-4">
    <i class="bi bi-info-circle me-2"></i> Ch∆∞a c√≥ th·ªùi kh√≥a bi·ªÉu n√†o trong h·ªá th·ªëng.
  </div>
  {% endif %}
</div>
{% endblock %}
