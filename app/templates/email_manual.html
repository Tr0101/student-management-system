{% extends "base.html" %}
{% block title %}üìß G·ª≠i Email th√¥ng b√°o{% endblock %}
{% block content %}

<style>
  .email-card {
    max-width: 650px;
    margin: 0 auto;
    border: none;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.05);
    transition: all 0.3s ease;
  }
  .email-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 24px rgba(0,0,0,0.08);
  }
  .email-header {
    background: linear-gradient(135deg, #007bff, #00c6ff);
    color: white;
    border-radius: 16px 16px 0 0;
    padding: 18px 24px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .email-header i {
    font-size: 1.6rem;
  }
  .form-label {
    font-weight: 500;
  }
  .btn-primary {
    background: linear-gradient(90deg, #007bff, #00c6ff);
    border: none;
    font-weight: 600;
    letter-spacing: 0.3px;
  }
  .btn-primary:hover {
    opacity: 0.9;
    transform: scale(1.02);
  }
  .spinner-border {
    display: none;
    margin-left: 10px;
    width: 1rem;
    height: 1rem;
  }
</style>

<div class="card email-card">
  <div class="email-header">
    <i class="bi bi-envelope-paper-heart"></i>
    <div>
      <h5 class="mb-0">G·ª≠i email th√¥ng b√°o ƒëi·ªÉm</h5>
      <small>üì¨ G·ª≠i th√¥ng tin k·∫øt qu·∫£ h·ªçc t·∫≠p, c·∫£nh b√°o, ho·∫∑c th√¥ng b√°o chung</small>
    </div>
  </div>

  <div class="card-body">
    <form method="post" id="emailForm">
      {{ csrf_token() }} <!-- n·∫øu b·∫°n d√πng Flask-WTF -->

      <!-- Email ng∆∞·ªùi nh·∫≠n -->
      <div class="mb-3">
        <label class="form-label">Email ng∆∞·ªùi nh·∫≠n</label>
        <input type="email" class="form-control" name="email" placeholder="vd: sinhvien@vlu.edu.vn" required>
      </div>

      <!-- Ti√™u ƒë·ªÅ -->
      <div class="mb-3">
        <label class="form-label">Ti√™u ƒë·ªÅ</label>
        <input type="text" class="form-control" name="subject" placeholder="V√≠ d·ª•: Th√¥ng b√°o k·∫øt qu·∫£ h·ªçc t·∫≠p h·ªçc k·ª≥ I" required>
      </div>

      <!-- N·ªôi dung -->
      <div class="mb-3">
        <label class="form-label">N·ªôi dung</label>
        <textarea class="form-control" rows="6" name="body" placeholder="Nh·∫≠p n·ªôi dung email t·∫°i ƒë√¢y..." required></textarea>
      </div>

      <!-- N√∫t g·ª≠i -->
      <button type="submit" class="btn btn-primary">
        <i class="bi bi-send-fill"></i> G·ª≠i ngay
        <div class="spinner-border text-light" role="status"></div>
      </button>
    </form>
  </div>
</div>

<script>
  // Hi·ªáu ·ª©ng loading khi g·ª≠i form
  const form = document.getElementById('emailForm');
  const spinner = document.querySelector('.spinner-border');
  form.addEventListener('submit', () => {
    spinner.style.display = 'inline-block';
  });
</script>

{% endblock %}
